<?xml version="1.0" encoding="UTF-8"?>
<svg width="600" height="350" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <filter id="shadow2" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="2" flood-opacity="0.2"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="600" height="350" fill="#FAFAFA"/>

  <!-- Title -->
  <text x="300" y="25" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">BunkBot AI Architecture</text>

  <!-- User Query Box -->
  <rect x="30" y="50" width="140" height="80" rx="10" fill="#BBDEFB" stroke="#2196F3" stroke-width="2" filter="url(#shadow2)"/>
  <text x="100" y="75" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">User Query</text>
  <rect x="40" y="85" width="120" height="35" rx="5" fill="white" stroke="#90CAF9"/>
  <text x="100" y="100" font-family="Arial" font-size="9" text-anchor="middle" fill="#666">"Can I skip</text>
  <text x="100" y="112" font-family="Arial" font-size="9" text-anchor="middle" fill="#666">math today?"</text>

  <!-- Attendance Context Box -->
  <rect x="30" y="160" width="140" height="120" rx="10" fill="#C8E6C9" stroke="#4CAF50" stroke-width="2" filter="url(#shadow2)"/>
  <text x="100" y="185" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">Attendance</text>
  <text x="100" y="200" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">Context</text>

  <!-- Context details -->
  <rect x="40" y="210" width="55" height="25" rx="4" fill="#E8F5E9" stroke="#A5D6A7"/>
  <text x="67" y="220" font-family="Arial" font-size="8" text-anchor="middle" fill="#333">Overall</text>
  <text x="67" y="230" font-family="Arial" font-size="9" font-weight="bold" text-anchor="middle" fill="#4CAF50">78%</text>

  <rect x="105" y="210" width="55" height="25" rx="4" fill="#FFEBEE" stroke="#EF9A9A"/>
  <text x="132" y="220" font-family="Arial" font-size="8" text-anchor="middle" fill="#333">Math</text>
  <text x="132" y="230" font-family="Arial" font-size="9" font-weight="bold" text-anchor="middle" fill="#F44336">72%</text>

  <rect x="40" y="245" width="55" height="25" rx="4" fill="#FFF3E0" stroke="#FFCC80"/>
  <text x="67" y="255" font-family="Arial" font-size="8" text-anchor="middle" fill="#333">Min Req</text>
  <text x="67" y="265" font-family="Arial" font-size="9" font-weight="bold" text-anchor="middle" fill="#FF9800">75%</text>

  <rect x="105" y="245" width="55" height="25" rx="4" fill="#E8F5E9" stroke="#A5D6A7"/>
  <text x="132" y="255" font-family="Arial" font-size="8" text-anchor="middle" fill="#333">At Risk</text>
  <text x="132" y="265" font-family="Arial" font-size="9" font-weight="bold" text-anchor="middle" fill="#F44336">2</text>

  <!-- Arrows to System Prompt -->
  <line x1="170" y1="90" x2="220" y2="130" stroke="#666" stroke-width="2"/>
  <polygon points="225,135 215,125 220,135" fill="#666"/>

  <line x1="170" y1="220" x2="220" y2="180" stroke="#666" stroke-width="2"/>
  <polygon points="225,175 215,185 220,175" fill="#666"/>

  <!-- System Prompt Builder -->
  <rect x="230" y="100" width="140" height="110" rx="10" fill="#FFF9C4" stroke="#FFEB3B" stroke-width="2" filter="url(#shadow2)"/>
  <text x="300" y="125" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">System</text>
  <text x="300" y="145" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">Prompt</text>
  <text x="300" y="165" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">Builder</text>

  <rect x="245" y="175" width="110" height="25" rx="4" fill="white" stroke="#FDD835"/>
  <text x="300" y="192" font-family="Arial" font-size="8" text-anchor="middle" fill="#666">Combines query +</text>
  <text x="300" y="202" font-family="Arial" font-size="8" text-anchor="middle" fill="#666">attendance data</text>

  <!-- Arrow to LLM -->
  <line x1="370" y1="155" x2="400" y2="155" stroke="#666" stroke-width="3"/>
  <polygon points="405,155 395,150 395,160" fill="#666"/>

  <!-- Groq LLM -->
  <rect x="410" y="100" width="140" height="110" rx="10" fill="#E1BEE7" stroke="#9C27B0" stroke-width="2" filter="url(#shadow2)"/>
  <text x="480" y="130" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">Groq LLM</text>

  <rect x="430" y="145" width="100" height="55" rx="5" fill="white" stroke="#BA68C8"/>
  <text x="480" y="165" font-family="Arial" font-size="10" font-weight="bold" text-anchor="middle" fill="#9C27B0">Llama 4</text>
  <text x="480" y="180" font-family="Arial" font-size="10" font-weight="bold" text-anchor="middle" fill="#9C27B0">Maverick</text>
  <text x="480" y="195" font-family="Arial" font-size="8" text-anchor="middle" fill="#666">17B params</text>

  <!-- Arrow to Response -->
  <line x1="480" y1="210" x2="480" y2="240" stroke="#666" stroke-width="3"/>
  <polygon points="480,245 475,235 485,235" fill="#666"/>

  <!-- Response Box -->
  <rect x="340" y="250" width="220" height="80" rx="10" fill="#FFCCBC" stroke="#FF5722" stroke-width="2" filter="url(#shadow2)"/>
  <text x="450" y="275" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">Personalized Response</text>

  <rect x="350" y="285" width="200" height="35" rx="5" fill="white" stroke="#FFAB91"/>
  <text x="450" y="300" font-family="Arial" font-size="9" text-anchor="middle" fill="#333">"Don't skip Math today.</text>
  <text x="450" y="312" font-family="Arial" font-size="9" text-anchor="middle" fill="#333">At 72%, attend next 3 classes."</text>

  <!-- Footer -->
  <text x="300" y="345" font-family="Arial" font-size="10" text-anchor="middle" fill="#999">Fig. 7: BunkBot AI Architecture</text>
</svg>
